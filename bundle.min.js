!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _preact=require("preact"),Loading=function(props){return(0,_preact.h)("div",{class:"loading"},(0,_preact.h)("h1",{class:"title"},"Loading..."))};exports.default=Loading},{preact:19}],2:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _preact=require("preact"),_Constants=require("../constants/Constants"),_Constants2=_interopRequireDefault(_Constants),_isSameDay=require("../helpers/isSameDay"),_isSameDay2=_interopRequireDefault(_isSameDay),Nav=function(props){var date=props.date,disableNext=!1,disablePrevious=!1;return(0,_isSameDay2.default)(date,_Constants2.default.LATEST_DAY)&&(disableNext=!0),date<=_Constants2.default.OLDEST_DAY&&(disablePrevious=!0),(0,_preact.h)("div",{class:"nav-wrapper"},(0,_preact.h)("h1",{class:"title"},"THE POD"),(0,_preact.h)("nav",{class:"nav nav-center"},(0,_preact.h)("ul",{class:"menu"},(0,_preact.h)("li",null,(0,_preact.h)("button",{type:"submit",class:"btn",disabled:disablePrevious,onClick:props.onPreviousClick},"Previous")),(0,_preact.h)("li",null,(0,_preact.h)("button",{type:"submit",class:"btn",onClick:props.onRandomClick},"Random")),(0,_preact.h)("li",null,(0,_preact.h)("button",{type:"submit",class:"btn",disabled:disableNext,onClick:props.onNextClick},"Next")))),(0,_preact.h)("nav",{class:"nav nav-right"},(0,_preact.h)("ul",{class:"menu"},(0,_preact.h)("li",null,(0,_preact.h)("button",{type:"submit",class:"btn",onClick:props.onToggleClick},"Toggle info")))))};exports.default=Nav},{"../constants/Constants":5,"../helpers/isSameDay":9,preact:19}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _preact=require("preact"),_Nav=require("../components/Nav"),_Nav2=_interopRequireDefault(_Nav),_Loading=require("../components/Loading"),_Loading2=_interopRequireDefault(_Loading),_displayDate=require("../helpers/display-date"),_displayDate2=_interopRequireDefault(_displayDate),Wrapper=function(props){var textClass="";return props.showInfo||(textClass="hidden"),props.isLoading?(0,_preact.h)(_Loading2.default,null):props.isFailure?(0,_preact.h)("h1",null,"Request failed ",(void 0).state.tries+1," times. Try again later. "):(0,_preact.h)("div",null,(0,_preact.h)(_Nav2.default,{date:props.date,onPreviousClick:props.onPreviousClick,onNextClick:props.onNextClick,onToggleClick:props.onToggleClick,onRandomClick:props.onRandomClick}),(0,_preact.h)("div",{class:"wrapper",style:{backgroundImage:"url("+props.image_hd+")"}},(0,_preact.h)("div",{class:"container "+textClass},(0,_preact.h)("div",{class:"text"},(0,_preact.h)("h1",null,props.title),(0,_preact.h)("p",null,props.explanation),(0,_preact.h)("p",null,(0,_displayDate2.default)(props.date))))))};exports.default=Wrapper},{"../components/Loading":1,"../components/Nav":2,"../helpers/display-date":8,preact:19}],4:[function(require,module,exports){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var AppConstants={DEV_MODE:"dev",PROD_MODE:"prod"};exports.default=AppConstants},{}],5:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _today=require("../helpers/today"),_today2=_interopRequireDefault(_today),_strToDate=require("../helpers/strToDate"),_strToDate2=_interopRequireDefault(_strToDate),Constants={LATEST_DAY:(0,_today2.default)(),OLDEST_DAY:(0,_strToDate2.default)("1995-06-16"),MAX_TRY:3};exports.default=Constants},{"../helpers/strToDate":12,"../helpers/today":13}],6:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_preact=require("preact"),_AppConstants=require("../constants/AppConstants"),_AppConstants2=_interopRequireDefault(_AppConstants),_Constants=require("../constants/Constants"),_Constants2=_interopRequireDefault(_Constants),_Wrapper=require("../components/Wrapper"),_Wrapper2=_interopRequireDefault(_Wrapper),_yesterday=require("../helpers/yesterday"),_yesterday2=_interopRequireDefault(_yesterday),_tomorrow=require("../helpers/tomorrow"),_tomorrow2=_interopRequireDefault(_tomorrow),_randomDate=require("../helpers/random-date"),_randomDate2=_interopRequireDefault(_randomDate),_strToDate=require("../helpers/strToDate"),_strToDate2=_interopRequireDefault(_strToDate),config=require("../../appconfig"),getLatest=void 0,getByDate=void 0;config.mode===_AppConstants2.default.DEV_MODE?(getLatest=require("../../test/helpers/api_fixture").getLatest,getByDate=require("../../test/helpers/api_fixture").getByDate):(getLatest=require("../helpers/api").getLatest,getByDate=require("../helpers/api").getByDate);var downloadImage=new Image,App=function(_Component){function App(props){_classCallCheck(this,App);var _this=_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).call(this,props));return _this.state={isLoading:!0,tries:0,isFailure:!1,showInfo:!1},_this.handlePreviousClick=_this.handlePreviousClick.bind(_this),_this.handleNextClick=_this.handleNextClick.bind(_this),_this.handleToggleClick=_this.handleToggleClick.bind(_this),_this.handleRandomClick=_this.handleRandomClick.bind(_this),_this.receive=_this.receive.bind(_this),_this}return _inherits(App,_Component),_createClass(App,[{key:"receive",value:function(data){var _this2=this,date=(0,_strToDate2.default)(data.date);downloadImage.onload=function(){_this2.setState({image:data.url,image_hd:data.hdurl,title:data.title,explanation:data.explanation,date:date,tries:0,isFailure:!1,isLoading:!1})},downloadImage.src=data.hdurl}},{key:"makeRequest",value:function(date){var _this3=this;getByDate(date).then(this.receive).catch(function(err){_this3.state.tries>=_Constants2.default.MAX_TRY?_this3.setState({isFailure:!0,isLoading:!1}):_this3.setState({tries:_this3.state.tries+1},_this3.makeRequest((0,_yesterday2.default)(date)))})}},{key:"handleToggleClick",value:function(){this.setState({showInfo:!this.state.showInfo})}},{key:"handlePreviousClick",value:function(){this.setState({isLoading:!0},this.makeRequest((0,_yesterday2.default)(this.state.date)))}},{key:"handleNextClick",value:function(){this.setState({isLoading:!0},this.makeRequest((0,_tomorrow2.default)(this.state.date)))}},{key:"handleRandomClick",value:function(){this.setState({isLoading:!0},this.makeRequest((0,_randomDate2.default)(this.state.date)))}},{key:"render",value:function(){return(0,_preact.h)(_Wrapper2.default,{isLoading:this.state.isLoading,isFailure:this.state.isFailure,onPreviousClick:this.handlePreviousClick,onNextClick:this.handleNextClick,onRandomClick:this.handleRandomClick,onToggleClick:this.handleToggleClick,image_hd:this.state.image_hd,title:this.state.title,explanation:this.state.explanation,date:this.state.date,showInfo:this.state.showInfo})}},{key:"componentWillMount",value:function(){var today=_Constants2.default.LATEST_DAY;this.makeRequest(today)}}]),App}(_preact.Component);exports.default=App},{"../../appconfig":17,"../../test/helpers/api_fixture":22,"../components/Wrapper":3,"../constants/AppConstants":4,"../constants/Constants":5,"../helpers/api":7,"../helpers/random-date":10,"../helpers/strToDate":12,"../helpers/tomorrow":14,"../helpers/yesterday":15,preact:19}],7:[function(require,module,exports){"use strict";function getLatest(){return fetch(""+baseUrl+keyParam).then(function(res){return res.json()})}function getByDate(date){var newDate=date.getFullYear()+"-"+(date.getMonth()+1)+"-"+date.getDate(),url=""+baseUrl+keyParam+"&date="+newDate;return fetch(url).then(function(res){if(!res.ok)throw Error(res.statusText);return res}).then(function(res){return res.json()}).catch(function(err){throw err})}var key=require("../../credentials").api_key,baseUrl="https://api.nasa.gov/planetary/apod?",keyParam="api_key="+key;module.exports={getLatest:getLatest,getByDate:getByDate}},{"../../credentials":18}],8:[function(require,module,exports){"use strict";function displayDate(date){return date.getDate()+"/"+(date.getMonth()+1)+"/"+date.getFullYear()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=displayDate},{}],9:[function(require,module,exports){"use strict";function isSameDay(day1,day2){var newDay1=new Date(day1),newDay2=new Date(day2);return newDay1.setHours(0,0,0,0),newDay2.setHours(0,0,0,0),newDay1>=newDay2}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isSameDay},{}],10:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function random(){return randomDate(_Constants2.default.OLDEST_DAY,_Constants2.default.LATEST_DAY)}function randomDate(start,end){return new Date(start.getTime()+Math.random()*(end.getTime()-start.getTime()))}var _Constants=require("../constants/Constants"),_Constants2=_interopRequireDefault(_Constants);module.exports=random},{"../constants/Constants":5}],11:[function(require,module,exports){"use strict";function randomInt(min,max){return min=Math.ceil(min),max=Math.floor(max),Math.floor(Math.random()*(max-min+1))+min}module.exports=randomInt},{}],12:[function(require,module,exports){"use strict";function strToDate(str){var arrDate=str.split("-"),year=arrDate.splice(0,1),month=arrDate.splice(0,1),day=arrDate.splice(0,1);return new Date(year,month-1,day)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=strToDate},{}],13:[function(require,module,exports){"use strict";function today(){var date=new Date;return date}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=today},{}],14:[function(require,module,exports){"use strict";function tomorrow(date){var tomorrow=new Date(date);return tomorrow.setDate(tomorrow.getDate()+1),tomorrow}module.exports=tomorrow},{}],15:[function(require,module,exports){"use strict";function yesterday(date){return new Date(date-864e5)}module.exports=yesterday},{}],16:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _preact=require("preact"),_App=require("./containers/App"),_App2=_interopRequireDefault(_App);(0,_preact.render)((0,_preact.h)(_App2.default,null),document.getElementById("app"))},{"./containers/App":6,preact:19}],17:[function(require,module,exports){module.exports={mode:"prod"}},{}],18:[function(require,module,exports){module.exports={api_key:"XcvfOgftmxfFvTcinvBS1eFJMTo8yhGnrOlG1Ep4"}},{}],19:[function(require,module,exports){!function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?factory(exports):"function"==typeof define&&define.amd?define(["exports"],factory):factory(global.preact=global.preact||{})}(this,function(exports){function VNode(nodeName,attributes,children){this.nodeName=nodeName,this.attributes=attributes,this.children=children,this.key=attributes&&attributes.key}function h(nodeName,attributes){var lastSimple,child,simple,i,children=[];for(i=arguments.length;i-- >2;)stack.push(arguments[i]);for(attributes&&attributes.children&&(stack.length||stack.push(attributes.children),delete attributes.children);stack.length;)if((child=stack.pop())instanceof Array)for(i=child.length;i--;)stack.push(child[i]);else null!=child&&child!==!1&&("number"!=typeof child&&child!==!0||(child=String(child)),simple="string"==typeof child,simple&&lastSimple?children[children.length-1]+=child:(children.push(child),lastSimple=simple));var p=new VNode(nodeName,attributes||void 0,children);return options.vnode&&options.vnode(p),p}function extend(obj,props){if(props)for(var i in props)obj[i]=props[i];return obj}function clone(obj){return extend({},obj)}function delve(obj,key){for(var p=key.split("."),i=0;i<p.length&&obj;i++)obj=obj[p[i]];return obj}function isFunction(obj){return"function"==typeof obj}function isString(obj){return"string"==typeof obj}function hashToClassName(c){var str="";for(var prop in c)c[prop]&&(str&&(str+=" "),str+=prop);return str}function cloneElement(vnode,props){return h(vnode.nodeName,extend(clone(vnode.attributes),props),arguments.length>2?[].slice.call(arguments,2):vnode.children)}function createLinkedState(component,key,eventPath){var path=key.split(".");return function(e){for(var t=e&&e.target||this,state={},obj=state,v=isString(eventPath)?delve(e,eventPath):t.nodeName?t.type.match(/^che|rad/)?t.checked:t.value:e,i=0;i<path.length-1;i++)obj=obj[path[i]]||(obj[path[i]]=!i&&component.state[path[i]]||{});obj[path[i]]=v,component.setState(state)}}function enqueueRender(component){!component._dirty&&(component._dirty=!0)&&1==items.push(component)&&(options.debounceRendering||defer)(rerender)}function rerender(){var p,list=items;for(items=[];p=list.pop();)p._dirty&&renderComponent(p)}function isFunctionalComponent(vnode){var nodeName=vnode&&vnode.nodeName;return nodeName&&isFunction(nodeName)&&!(nodeName.prototype&&nodeName.prototype.render)}function buildFunctionalComponent(vnode,context){return vnode.nodeName(getNodeProps(vnode),context||EMPTY)}function isSameNodeType(node,vnode){return isString(vnode)?node instanceof Text:isString(vnode.nodeName)?isNamedNode(node,vnode.nodeName):isFunction(vnode.nodeName)?node._componentConstructor===vnode.nodeName||isFunctionalComponent(vnode):void 0}function isNamedNode(node,nodeName){return node.normalizedNodeName===nodeName||toLowerCase(node.nodeName)===toLowerCase(nodeName)}function getNodeProps(vnode){var props=clone(vnode.attributes);props.children=vnode.children;var defaultProps=vnode.nodeName.defaultProps;if(defaultProps)for(var i in defaultProps)void 0===props[i]&&(props[i]=defaultProps[i]);return props}function removeNode(node){var p=node.parentNode;p&&p.removeChild(node)}function setAccessor(node,name,old,value,isSvg){if("className"===name&&(name="class"),"class"===name&&value&&"object"==typeof value&&(value=hashToClassName(value)),"key"===name);else if("class"!==name||isSvg)if("style"===name){if((!value||isString(value)||isString(old))&&(node.style.cssText=value||""),value&&"object"==typeof value){if(!isString(old))for(var i in old)i in value||(node.style[i]="");for(var i in value)node.style[i]="number"!=typeof value[i]||NON_DIMENSION_PROPS[i]?value[i]:value[i]+"px"}}else if("dangerouslySetInnerHTML"===name)value&&(node.innerHTML=value.__html);else if("o"==name[0]&&"n"==name[1]){var l=node._listeners||(node._listeners={});name=toLowerCase(name.substring(2)),value?l[name]||node.addEventListener(name,eventProxy,!!NON_BUBBLING_EVENTS[name]):l[name]&&node.removeEventListener(name,eventProxy,!!NON_BUBBLING_EVENTS[name]),l[name]=value}else if("list"!==name&&"type"!==name&&!isSvg&&name in node)setProperty(node,name,null==value?"":value),null!=value&&value!==!1||node.removeAttribute(name);else{var ns=isSvg&&name.match(/^xlink\:?(.+)/);null==value||value===!1?ns?node.removeAttributeNS("http://www.w3.org/1999/xlink",toLowerCase(ns[1])):node.removeAttribute(name):"object"==typeof value||isFunction(value)||(ns?node.setAttributeNS("http://www.w3.org/1999/xlink",toLowerCase(ns[1]),value):node.setAttribute(name,value))}else node.className=value||""}function setProperty(node,name,value){try{node[name]=value}catch(e){}}function eventProxy(e){return this._listeners[e.type](options.event&&options.event(e)||e)}function collectNode(node){if(removeNode(node),node instanceof Element){node._component=node._componentConstructor=null;var _name=node.normalizedNodeName||toLowerCase(node.nodeName);(nodes[_name]||(nodes[_name]=[])).push(node)}}function createNode(nodeName,isSvg){var name=toLowerCase(nodeName),node=nodes[name]&&nodes[name].pop()||(isSvg?document.createElementNS("http://www.w3.org/2000/svg",nodeName):document.createElement(nodeName));return node.normalizedNodeName=name,node}function flushMounts(){for(var c;c=mounts.pop();)options.afterMount&&options.afterMount(c),c.componentDidMount&&c.componentDidMount()}function diff(dom,vnode,context,mountAll,parent,componentRoot){diffLevel++||(isSvgMode=parent instanceof SVGElement);var ret=idiff(dom,vnode,context,mountAll);return parent&&ret.parentNode!==parent&&parent.appendChild(ret),--diffLevel||componentRoot||flushMounts(),ret}function idiff(dom,vnode,context,mountAll){for(var originalAttributes=vnode&&vnode.attributes;isFunctionalComponent(vnode);)vnode=buildFunctionalComponent(vnode,context);if(null==vnode&&(vnode=""),isString(vnode)){if(dom){if(dom instanceof Text&&dom.parentNode)return dom.nodeValue!=vnode&&(dom.nodeValue=vnode),dom;recollectNodeTree(dom)}return document.createTextNode(vnode)}if(isFunction(vnode.nodeName))return buildComponentFromVNode(dom,vnode,context,mountAll);var out=dom,nodeName=vnode.nodeName,prevSvgMode=isSvgMode,vchildren=vnode.children;if(isString(nodeName)||(nodeName=String(nodeName)),isSvgMode="svg"===nodeName||"foreignObject"!==nodeName&&isSvgMode,dom){if(!isNamedNode(dom,nodeName)){for(out=createNode(nodeName,isSvgMode);dom.firstChild;)out.appendChild(dom.firstChild);recollectNodeTree(dom)}}else out=createNode(nodeName,isSvgMode);vchildren&&1===vchildren.length&&"string"==typeof vchildren[0]&&1===out.childNodes.length&&out.firstChild instanceof Text?out.firstChild.nodeValue!=vchildren[0]&&(out.firstChild.nodeValue=vchildren[0]):(vchildren&&vchildren.length||out.firstChild)&&innerDiffNode(out,vchildren,context,mountAll);var props=out[ATTR_KEY];if(!props){out[ATTR_KEY]=props={};for(var a=out.attributes,i=a.length;i--;)props[a[i].name]=a[i].value}return diffAttributes(out,vnode.attributes,props),originalAttributes&&"function"==typeof originalAttributes.ref&&(props.ref=originalAttributes.ref)(out),isSvgMode=prevSvgMode,out}function innerDiffNode(dom,vchildren,context,mountAll){var j,c,vchild,child,originalChildren=dom.childNodes,children=[],keyed={},keyedLen=0,min=0,len=originalChildren.length,childrenLen=0,vlen=vchildren&&vchildren.length;if(len)for(var i=0;i<len;i++){var _child=originalChildren[i],key=vlen?(c=_child._component)?c.__key:(c=_child[ATTR_KEY])?c.key:null:null;key||0===key?(keyedLen++,keyed[key]=_child):children[childrenLen++]=_child}if(vlen)for(var i=0;i<vlen;i++){vchild=vchildren[i],child=null;var key=vchild.key;if(null!=key)keyedLen&&key in keyed&&(child=keyed[key],keyed[key]=void 0,keyedLen--);else if(!child&&min<childrenLen){for(j=min;j<childrenLen;j++)if(c=children[j],c&&isSameNodeType(c,vchild)){child=c,children[j]=void 0,j===childrenLen-1&&childrenLen--,j===min&&min++;break}!child&&min<childrenLen&&isFunction(vchild.nodeName)&&mountAll&&(child=children[min],children[min++]=void 0)}child=idiff(child,vchild,context,mountAll),child&&child!==dom&&child!==originalChildren[i]&&dom.insertBefore(child,originalChildren[i]||null)}if(keyedLen)for(var i in keyed)keyed[i]&&recollectNodeTree(keyed[i]);min<childrenLen&&removeOrphanedChildren(children)}function removeOrphanedChildren(children,unmountOnly){for(var i=children.length;i--;)children[i]&&recollectNodeTree(children[i],unmountOnly)}function recollectNodeTree(node,unmountOnly){var component=node._component;component?unmountComponent(component,!unmountOnly):(node[ATTR_KEY]&&node[ATTR_KEY].ref&&node[ATTR_KEY].ref(null),unmountOnly||collectNode(node),node.childNodes&&node.childNodes.length&&removeOrphanedChildren(node.childNodes,unmountOnly))}function diffAttributes(dom,attrs,old){for(var _name in old)attrs&&_name in attrs||null==old[_name]||setAccessor(dom,_name,old[_name],old[_name]=void 0,isSvgMode);if(attrs)for(var _name2 in attrs)"children"===_name2||"innerHTML"===_name2||_name2 in old&&attrs[_name2]===("value"===_name2||"checked"===_name2?dom[_name2]:old[_name2])||setAccessor(dom,_name2,old[_name2],old[_name2]=attrs[_name2],isSvgMode)}function collectComponent(component){var name=component.constructor.name,list=components[name];list?list.push(component):components[name]=[component]}function createComponent(Ctor,props,context){var inst=new Ctor(props,context),list=components[Ctor.name];if(Component.call(inst,props,context),list)for(var i=list.length;i--;)if(list[i].constructor===Ctor){inst.nextBase=list[i].nextBase,list.splice(i,1);break}return inst}function setComponentProps(component,props,opts,context,mountAll){component._disable||(component._disable=!0,(component.__ref=props.ref)&&delete props.ref,(component.__key=props.key)&&delete props.key,!component.base||mountAll?component.componentWillMount&&component.componentWillMount():component.componentWillReceiveProps&&component.componentWillReceiveProps(props,context),context&&context!==component.context&&(component.prevContext||(component.prevContext=component.context),component.context=context),component.prevProps||(component.prevProps=component.props),component.props=props,component._disable=!1,0!==opts&&(1!==opts&&options.syncComponentUpdates===!1&&component.base?enqueueRender(component):renderComponent(component,1,mountAll)),component.__ref&&component.__ref(component))}function renderComponent(component,opts,mountAll,isChild){if(!component._disable){var skip,rendered,inst,cbase,props=component.props,state=component.state,context=component.context,previousProps=component.prevProps||props,previousState=component.prevState||state,previousContext=component.prevContext||context,isUpdate=component.base,nextBase=component.nextBase,initialBase=isUpdate||nextBase,initialChildComponent=component._component;if(isUpdate&&(component.props=previousProps,component.state=previousState,component.context=previousContext,2!==opts&&component.shouldComponentUpdate&&component.shouldComponentUpdate(props,state,context)===!1?skip=!0:component.componentWillUpdate&&component.componentWillUpdate(props,state,context),component.props=props,component.state=state,component.context=context),component.prevProps=component.prevState=component.prevContext=component.nextBase=null,component._dirty=!1,!skip){for(component.render&&(rendered=component.render(props,state,context)),component.getChildContext&&(context=extend(clone(context),component.getChildContext()));isFunctionalComponent(rendered);)rendered=buildFunctionalComponent(rendered,context);var toUnmount,base,childComponent=rendered&&rendered.nodeName;if(isFunction(childComponent)){inst=initialChildComponent;var childProps=getNodeProps(rendered);inst&&inst.constructor===childComponent?setComponentProps(inst,childProps,1,context):(toUnmount=inst,inst=createComponent(childComponent,childProps,context),inst.nextBase=inst.nextBase||nextBase,inst._parentComponent=component,component._component=inst,setComponentProps(inst,childProps,0,context),renderComponent(inst,1,mountAll,!0)),base=inst.base}else cbase=initialBase,toUnmount=initialChildComponent,toUnmount&&(cbase=component._component=null),(initialBase||1===opts)&&(cbase&&(cbase._component=null),base=diff(cbase,rendered,context,mountAll||!isUpdate,initialBase&&initialBase.parentNode,!0));if(initialBase&&base!==initialBase&&inst!==initialChildComponent){var baseParent=initialBase.parentNode;baseParent&&base!==baseParent&&(baseParent.replaceChild(base,initialBase),toUnmount||(initialBase._component=null,recollectNodeTree(initialBase)))}if(toUnmount&&unmountComponent(toUnmount,base!==initialBase),component.base=base,base&&!isChild){for(var componentRef=component,t=component;t=t._parentComponent;)(componentRef=t).base=base;base._component=componentRef,base._componentConstructor=componentRef.constructor}}!isUpdate||mountAll?mounts.unshift(component):skip||(component.componentDidUpdate&&component.componentDidUpdate(previousProps,previousState,previousContext),options.afterUpdate&&options.afterUpdate(component));var fn,cb=component._renderCallbacks;if(cb)for(;fn=cb.pop();)fn.call(component);diffLevel||isChild||flushMounts()}}function buildComponentFromVNode(dom,vnode,context,mountAll){for(var c=dom&&dom._component,oldDom=dom,isDirectOwner=c&&dom._componentConstructor===vnode.nodeName,isOwner=isDirectOwner,props=getNodeProps(vnode);c&&!isOwner&&(c=c._parentComponent);)isOwner=c.constructor===vnode.nodeName;return c&&isOwner&&(!mountAll||c._component)?(setComponentProps(c,props,3,context,mountAll),dom=c.base):(c&&!isDirectOwner&&(unmountComponent(c,!0),dom=oldDom=null),c=createComponent(vnode.nodeName,props,context),dom&&!c.nextBase&&(c.nextBase=dom,oldDom=null),setComponentProps(c,props,1,context,mountAll),dom=c.base,oldDom&&dom!==oldDom&&(oldDom._component=null,recollectNodeTree(oldDom))),dom}function unmountComponent(component,remove){options.beforeUnmount&&options.beforeUnmount(component);var base=component.base;component._disable=!0,component.componentWillUnmount&&component.componentWillUnmount(),component.base=null;var inner=component._component;inner?unmountComponent(inner,remove):base&&(base[ATTR_KEY]&&base[ATTR_KEY].ref&&base[ATTR_KEY].ref(null),component.nextBase=base,remove&&(removeNode(base),collectComponent(component)),removeOrphanedChildren(base.childNodes,!remove)),component.__ref&&component.__ref(null),component.componentDidUnmount&&component.componentDidUnmount()}function Component(props,context){this._dirty=!0,this.context=context,this.props=props,this.state||(this.state={})}function render(vnode,parent,merge){return diff(merge,vnode,{},!1,parent)}var options={},stack=[],lcCache={},toLowerCase=function(s){return lcCache[s]||(lcCache[s]=s.toLowerCase())},resolved="undefined"!=typeof Promise&&Promise.resolve(),defer=resolved?function(f){resolved.then(f)}:setTimeout,EMPTY={},ATTR_KEY="undefined"!=typeof Symbol?Symbol.for("preactattr"):"__preactattr_",NON_DIMENSION_PROPS={boxFlex:1,boxFlexGroup:1,columnCount:1,fillOpacity:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,fontWeight:1,lineClamp:1,lineHeight:1,opacity:1,order:1,orphans:1,strokeOpacity:1,widows:1,zIndex:1,zoom:1},NON_BUBBLING_EVENTS={blur:1,error:1,focus:1,load:1,resize:1,scroll:1},items=[],nodes={},mounts=[],diffLevel=0,isSvgMode=!1,components={};extend(Component.prototype,{linkState:function(key,eventPath){var c=this._linkedStates||(this._linkedStates={});return c[key+eventPath]||(c[key+eventPath]=createLinkedState(this,key,eventPath))},setState:function(state,callback){var s=this.state;this.prevState||(this.prevState=clone(s)),extend(s,isFunction(state)?state(s,this.props):state),callback&&(this._renderCallbacks=this._renderCallbacks||[]).push(callback),enqueueRender(this)},forceUpdate:function(){renderComponent(this,2)},render:function(){}}),exports.h=h,exports.cloneElement=cloneElement,exports.Component=Component,exports.render=render,exports.rerender=rerender,exports.options=options})},{}],20:[function(require,module,exports){"use strict";var APIConstants={DEV_TIMEOUT:200,TEST_FAILURE:!1};module.exports=APIConstants},{}],21:[function(require,module,exports){module.exports={copyright:"Some name",date:"2016-11-19",explanation:"Just days before the peak of the Leonid meteor shower, skywatchers were offered another astronomical treat as planet Mercury crossed the face of the Sun on November 15. Viewed from planet Earth, a transit of Mercury is not all that rare. The last occurred in 1993 and the next will happen in 2003. Enjoying a mercurial transit does require an appropriately filtered telescope, still the event can be dramatic as the diminutive well-done world drifts past the dominating solar disk. This slow loading gif animation is based on images recorded by the earth-orbiting TRACE satellite. The false-color TRACE images were made in ultraviolet light and tend to show the hot gas just above the Sun's visible surface. Mercury's disk is silhouetted against the seething plasma as it follows a trajectory near the edge of the Sun.",hdurl:"images/img.jpg",media_type:"image",service_version:"v1",title:"IC 5070: A Dusty Pelican in the Swan",url:"images/img.jpg"}},{}],22:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getLatest(){var p=new Promise(function(resolve,reject){setTimeout(function(){resolve(fixture)},AppConstants.DEV_TIMEOUT)});return p}function getByDate(date){return getByDateCall(date).then(function(data){if(_APIConstants2.default.TEST_FAILURE)throw new Error("Error");return data})}function getByDateCall(date){var arr=Array.apply(null,Array(7));arr.forEach(function(item,i){return arr[i]="images/img_"+(i+1)+".jpg"});var image=(0,_randomInt2.default)(1,7);fixture.hdurl=arr[image-1],fixture.url=arr[image-1],fixture.date=date;var p=new Promise(function(resolve,reject){setTimeout(function(){resolve(fixture)},_APIConstants2.default.DEV_TIMEOUT)});return p}var _APIConstants=require("../constants/APIConstants"),_APIConstants2=_interopRequireDefault(_APIConstants),_randomInt=require("../../app/helpers/random-int"),_randomInt2=_interopRequireDefault(_randomInt),fixture=require("../fixture-data");module.exports={getLatest:getLatest,getByDate:getByDate}},{"../../app/helpers/random-int":11,"../constants/APIConstants":20,"../fixture-data":21}]},{},[16]);